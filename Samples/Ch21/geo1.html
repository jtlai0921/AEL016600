<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Geolocation API</title>
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false">
	</script>
    <script>
	   //呼叫getCurrentPosition() 方法取得使用者的位置
      navigator.geolocation.getCurrentPosition(geoSuccess);
      
	  //在成功取得位置資訊時，呼叫geoSuccess() 函式
	  function geoSuccess(position){
	    var geocoder = new google.maps.Geocoder();     
		var latlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);     
		var myOptions = {zoom: 10, center:latlng, mapTypeId:google.maps.MapTypeId.ROADMAP};
		var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);   
		var marker = new google.maps.Marker({map:map, position:latlng});
        document.getElementById("msg").innerHTML = "緯度：" + position.coords.latitude + 
		                                           "\t經度：" + position.coords.longitude;
	  }      
	</script>
  </head>
  <body>
    <div id="map_canvas" style="width:500px; height:500px;"></div>
    <p id="msg"></p>	
  </body>
</html>



